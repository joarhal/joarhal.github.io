const init=async()=>{const e=window.Telegram?.WebApp,a="https://0uitsxjg97.whs.lol/";if(e?.ready(),e&&e.themeParams){const a=e.themeParams;a?.bg_color&&(document.body.style.background="#fafafa")}let t=await fetch(a);t.ok&&((await t.json()).ok||failApp("Something went wrong, please try again later.\n Error: 6548147"));t=await fetch(a+"auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e.initData||"null"})});const n=await t.json(),{verified:o,session_token:i}=n;o?(e.ready(),window.engine.startGame({onProgress:(e,a)=>{console.log("Loaded "+e+" of "+a+" bytes")}}),window.w3g_app={session_token:i,server_url:a}):failApp("Something went wrong, please try again later.\n Error: 6548148")},failApp=(e,a)=>{window?.Telegram?.WebApp?.init_data?(WebApp.showAlert(e,a.message),WebApp.close()):alert(e+"\n"+a.message)};(async()=>{try{await init()}catch(e){failApp("Something went wrong, please try again later.\n Error: 6545192",e)}})();
